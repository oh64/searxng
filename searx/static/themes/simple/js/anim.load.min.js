(async()=>{let e=document.querySelector(`form#search`),t=document.getElementById(`loading_overlay`),n=document.getElementById(`loading_text`),r={},i=0,a=null;if(e&&t){try{r=await(await fetch(`/engines.json`)).json()}catch(e){console.error(`Error engines.json not fetched`,e),r={}}e.addEventListener(`submit`,()=>{let o=new FormData(e);if(o.get(`q`)!==``){let e=String(o.get(`categories`)||o.get(`category_general`)||``),s=e===`1`||e===`general`?`web`:e||`web`;t.style.display=`flex`,i=0;let c=r[String(s)]||[`the web`];a=window.setInterval(()=>{i<c.length?(n&&(n.textContent=`Searching on ${c[i]}...`),i++):(n&&(n.textContent=`Finalizing the ${s} search...`),a!==null&&clearInterval(a),a=null)},500)}}),window.addEventListener(`pageshow`,()=>{a!==null&&(clearInterval(a),a=null),t&&(t.style.display=`none`)})}})();
//# sourceMappingURL=anim.load.min.js.map